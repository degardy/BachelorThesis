\chapter{Validierung und Bewertung der Optimierungsergebnisse}
%... Verifikation, Auswertung, Lösungsbewertung, Diskussion der Ergebnisse
%Anwendung auf bestehende Systeme, ohne dass die Hardware 
%negative  Ergebnisse 
%lokales minimum 
%\section{Validierung}
Das Ziel der Validierung besteht darin, die in der Simulation berechneten Energieeinsparungen am realen System mithilfe des optimierten Parametervektors nachzuweisen. Der Optimierer wurde gegenwärtig nur an einem einzigen Pfad für den Roboter getestet. Von einer Abbildung der Validierung auf weitere Optimierungsversuche wird abgesehen. Diese sind im Einzelfall zu überprüfen. Der Messaufbau ist identisch zu der Beschreibung im Kapitel Validierung des Roboterdynamik-Modells \ref{sec:modellvalidierung}. Roboterprogramme werden auf der KR C5 in der Programmiersprache KUKA Robot Language-(KRL) geschrieben. Ein KRL-Programm ist dabei aus einer Source-Datei (src) und einem data-file (dat)  aufgebaut. Der justierte-energieoptimierte Parametervektor $\bm{q}_v$ wird auf der KR C5 zwischen dem Start- und Zielpunkt der letzten Bewegungsbahn des Programms $Kleben-Seitenwand$ als Via-Punkt \lstinline|ViaJustOptUp| in der src-Datei angelegt. 
\begin{lstlisting}[numbers=none]
	;FOLD PTP ViaJustOptUp Vel=100 % PDAT8 Tool[1] Base[0] ;%{PE}
\end{lstlisting}
Ohne einen expliziten Überschleifbefehl fährt der Roboter den Via-Punkt millimetergenau an und reduziert seine Geschwindigkeit bei Erreichen des Punkts auf Null. In der Problemstellung der Arbeit wurde eine signifikante Abweichung von der originalen Bewegungsdauer als unzulässig definiert. 
Infolgedessen wird der Implementierte Via-Punkt in der src-Datei um den KRL Überschleifbefehl \lstinline|CONT| erweitert. 
%
\begin{lstlisting}[numbers=none]
	;FOLD PTP ViaJustOptUp CONT Vel=100 % PDAT8 Tool[1] Base[0] ;%{PE}
\end{lstlisting}
%
Zusätzlich muss der Robotersteuerung mitgeteilt werden, in welchem Modus der Via-Punkt zu überschleifen ist und welcher Überschleifradius angewendet werden soll. Dies erfolgt in der im dat-file über die Parameterdefinition \lstinline|PDAT|, welchen dem Via-Punkt in der src-datei zugewiesen ist. 
Die Approximationsmethode \lstinline|APO_MODE| wird mit \lstinline|CDIS| festgelegt. D. h. ein Überschleifen beginnt frühestens, wenn die Entfernung zum Punkt den Wert von \lstinline|APO_DIST = 500 mm| unterschreitet \cite[S.~578]{KSS.2023}.
\begin{lstlisting}[numbers=none]
	DECL PDAT PPDAT8={VEL 100.0000,ACC 100.000,APO_DIST 500.000,APO_MODE #CDIS,GEAR_JERK 100.000,EXAX_IGN 0}
\end{lstlisting}
Die maximale Überschleifdistanz wird auf 500 mm festgelegt. Von der Nutzung des maximal möglichen Überschleifradius 1000 mm wird Abstand genommen, um das Risiko einer Kollision des Roboters mit peripheren Bauteilen zu begrenzen. Die neu programmierte Bewegung wird zunächst auf Kollisionsfreiheit durch manuelles Abfahren mit reduzierter Geschwindigkeit in der KUKA Betriebsart T1 getestet. Nach einer Verifizierung der Überschleif-Bewegung für eine programmierte Geschwindigkeit von 50\% in der Betriebsart T2 erfolgt die Signalaufzeichnung der justierten-energieoptimierten Trajektorie mit einer programmierten Geschwindigkeit von 100\%. Die über alle sechs Gelenke summierte Leistungsaufnahme des Roboters wird in \ref{fig:pup} abgebildet. 
%
\begin{figure}[tbph]
	\centering
	\includegraphics[width=1\linewidth]{images/P_up}
	\caption{Summierte Leistungsaufnahme des Roboters für den Verfahrweg vom letzten Prozesspunkt auf die  Home Position im Programm $Kleben-Seitenwand$}
	\label{fig:pup}
\end{figure}
%
Dabei ist eine Zunahme der Bewegungsdauer für die justierte-energieoptimierte Trajektorie um ca. 0,17 s gegenüber der Initial-Trajektorie festzustellen. Die exakte Dauer kann nur näherungsweise angegeben werden. Dies liegt an der im Rahmen der Arbeit entwickelten Datenverarbeitung. Die über den RSI aufgezeichneten und am Server empfangenen Signale werden nachträglich separiert und der einzelnen Bewegungen zugewiesen. Eine neue Bewegung wird beim Durchlaufen einer niedrig gewählten Leistungsschwelle indiziert. Die leichte Zunahme der Bewegungsdauer wird  dem zusätzlichen Programmschritt durch die Definition des Via-Punkts mit \lstinline|CDIS=500 mm| angerechnet. In der PTP-Bewegungsart führt der Roboter den Tool-Center-Point (TCP) entlang der schnellsten Bahn zum Zielpunkt \cite[S.~429]{KSS.2023}. Der Via-Punkt hat zur Folge, dass der TCP nicht mehr auf der schnellsten Bahn geführt wird. Die Zunahme der Bewegungsdauer kann für das isoliert betrachtete Szenario nicht bewertet werden. Für einen in der Linienproduktion verbauten Roboter ist die neue Bewegungsdauer unter Berücksichtigung vor- bzw. nachgelagerter Bearbeitungsschritte bzw. dem langsamsten Prozessschritt zu beurteilen.  Die maximal aufgenommene Momentanleistung konnte um ca. 1 kW gesenkt werden. 
Gegenüber der stetig ansteigenden Leistungsaufnahme der Initial-Trajektorie weißt die Leistungskurve der Optimierten-Trajektorie einen Sattel auf.  Der Verlauf der simulierten Leistung, siehe Abbildung \ref{fig:poptfinal}, sowie die im Anhang hinterlegten, simulierten Bewegungsdaten weisen keine Unstetigkeit auf. Die dem Sattel zugrunde liegende temporäre Reduktion der Geschwindigkeit, setzt auf der Hälfte der Bewegungsdauer zwischen dem Start und dem Via-Punkt ein. Die Ursache dafür liegt in der Begrenzung der Geschwindigkeit des sechsten Gelenks. In der Konsequenz ist der Optimierer um die Geschwindigkeitsnebenbedienung \ref{eqn:conacc}, sowie die im Kapitel \ref{sec:Nebenbedingungen} genannten und in \cite[S.~5]{Hansen.2012} beschriebenen Formulierungen zur Begrenzung der maximalen Beschleunigung bzw. des maximalen Drehmoments zu erweitern. 
%\begin{figure}[tbph]
%	\centering
%	\includegraphics[width=1\linewidth]{images/velposup1}
%	\caption{Winkelgeschwindigkeit in den Gelenken 1-3 Bewegung Zwei}
%	\label{fig:velposup1}
%\end{figure}
Die über den optimierten Via-Punkt erzielte Energieeinsparung wird in der Grafik \ref{fig:eup500} dargestellt. Die Prognose der Simulation, dass die höchste Einsparung für das zweite Gelenk zu verzeichnen ist, wird erfüllt. Wie erwartet ist für den mechanischen Energieverbrauch im ersten Gelenk eine leichte Zunahme festzustellen. Eine quantitative Gegenüberstellung der Ergebnisse aus der Messung und  Simulation erfolgt mithilfe der Tabellen \ref{tab:energieverbrauch-simuliert} und \ref{tab:energieverbrauch-gemessen}. Dass der gemessene Energieverbrauch ca. 25 \% höher ausfällt wird darauf zurückgeführt, dass das Modell den Verbrauch in den Gelenken drei bis sechs signifikant geringer berechnet. Die gemessene Einsparung für den Versuch  fällt mit 11,7 \% höher aus als in der Simulation. Der Anteil, welcher der Zunahme der Bewegungsdauer zuzurechnen ist, fällt marginal aus. Anhand des Leistungsverlaufs in \ref{fig:pup} wird festgestellt, dass sowohl, die Initial-Trajektorie als auch die optimierte-Trajektorie zum Zeitpunkt $t=1,2\text{s}$ einen annähernd gleichen Wert nahe Null erreichen. 
%
\begin{figure}[tbph]
	\centering
	\includegraphics[width=1\linewidth]{images/e_up500}
	\caption{Energieverbrauch des Roboters für den Verfahrweg vom letzten Prozesspunkt auf die  Home Position im Programm $Kleben-Seitenwand$}
	\label{fig:eup500}        
\end{figure}
%
\begin{table}[tbph]
	\centering
	\caption{Energieverbrauch simuliert $Kleben-Seitenwand$ Verfahrweg vom letzten Prozesspunkt auf die  Home Position}
	\label{tab:energieverbrauch-simuliert}
	\begin{tabular}{|c|c|c|c|}
		\hline
		Trajektorie & Größe & Einheit & Wert \\
		\hline
		Initial & Energieverbrauch & [kJ] &2.001  \\
		\hline
		Justiert-Energieoptimiert & Energieverbrauch & [kJ] &1.858  \\
		\hline
		& Energieeinsparung & [kJ] &0.143  \\
		\hline
		& Energieeinsparung & [\%] &7,15  \\
		\hline
	\end{tabular}
	\centering
	\caption{Energieverbrauch gemessen $Kleben-Seitenwand$ Verfahrweg vom letzten Prozesspunkt auf die  Home Position}
	\label{tab:energieverbrauch-gemessen}
	\begin{tabular}{|c|c|c|c|}
		\hline
		Trajektorie & Größe & Einheit & Wert \\
		\hline
		Initial & Energieverbrauch & [kJ] &2.553  \\
		\hline
		Justiert-Energieoptimiert & Energieverbrauch & [kJ] &2.254 \\
		\hline
		& Energieeinsparung & [kJ] &0.299  \\
		\hline
		& Energieeinsparung & [\%] &11,7 \\
		\hline
	\end{tabular}
\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%Bewertung%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Die Optimierungsergebnisse werden anhand des qualitativen Verlaufs als plausibel eingestuft.
%\subsection{Fehlerquellen}
%Temperatureinfluss auf die Reibung 
%\section{Bewertung}